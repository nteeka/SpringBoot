<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Đăng Ký Tài Khoản</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        min-height: 100vh;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        flex-direction: column;
      }

      /* Header Styles */
      header {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .header-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 10px 30px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
      }

      .logo i {
        font-size: 28px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .logo-text {
        font-size: 20px;
        font-weight: 700;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      nav {
        display: flex;
        gap: 30px;
        align-items: center;
      }

      nav a {
        text-decoration: none;
        color: #333;
        font-weight: 500;
        font-size: 14px;
        transition: all 0.3s ease;
        position: relative;
      }

      nav a::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        transition: width 0.3s ease;
      }

      nav a:hover::after {
        width: 100%;
      }

      nav a:hover {
        color: #667eea;
      }

      .header-btn {
        padding: 8px 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        font-size: 14px;
      }

      .header-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      }

      .menu-toggle {
        display: none;
        font-size: 24px;
        cursor: pointer;
        color: #333;
      }

      /* Main Content */
      main {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 15px 20px;
        min-height: auto;
      }

      .container {
        width: 100%;
        max-width: 600px;
      }

      #msform {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 25px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(10px);
      }

      /* Progress Bar */
      #progressbar {
        margin-bottom: 20px;
        overflow: hidden;
        counter-reset: step;
        display: flex;
        justify-content: space-between;
        position: relative;
      }

      #progressbar::before {
        content: "";
        position: absolute;
        top: 30px;
        left: 0;
        right: 0;
        height: 3px;
        background: #e0e0e0;
        z-index: 0;
      }

      #progressbar li {
        list-style-type: none;
        font-size: 11px;
        font-weight: 500;
        text-transform: uppercase;
        color: #9e9e9e;
        width: 33.33%;
        position: relative;
        text-align: center;
        letter-spacing: 0.5px;
      }

      #progressbar li:before {
        content: counter(step);
        counter-increment: step;
        width: 45px;
        height: 45px;
        line-height: 45px;
        display: block;
        font-size: 15px;
        font-weight: 600;
        color: #9e9e9e;
        background: white;
        border: 3px solid #e0e0e0;
        border-radius: 50%;
        margin: 0 auto 8px auto;
        position: relative;
        z-index: 1;
        transition: all 0.3s ease;
      }

      #progressbar li.active:before {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-color: #667eea;
        color: white;
        transform: scale(1.1);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      #progressbar li.active {
        color: #667eea;
      }

      #progressbar li.active::after {
        content: "";
        position: absolute;
        top: 30px;
        left: -50%;
        width: 50%;
        height: 3px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        z-index: 0;
      }

      #progressbar li:first-child.active::after {
        display: none;
      }

      /* Fieldsets */
      fieldset {
        background: transparent;
        border: 0 none;
        border-radius: 0;
        padding: 20px 0;
        position: relative;
        display: none;
        animation: fadeIn 0.5s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      fieldset:first-of-type {
        display: block;
      }

      .fs-title {
        font-size: 24px;
        font-weight: 600;
        color: #333;
        margin-bottom: 8px;
        text-align: center;
      }

      .fs-subtitle {
        font-weight: 400;
        font-size: 13px;
        color: #757575;
        margin-bottom: 20px;
        text-align: center;
      }

      /* Input Styles */
      .input-group {
        position: relative;
        margin-bottom: 15px;
      }

      .input-group i {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #9e9e9e;
        font-size: 16px;
      }

      input[type="text"],
      input[type="password"],
      input[type="email"],
      textarea {
        width: 100%;
        padding: 12px 12px 12px 40px;
        border: 2px solid #e0e0e0;
        border-radius: 12px;
        font-family: "Poppins", sans-serif;
        color: #333;
        font-size: 14px;
        transition: all 0.3s ease;
        background: white;
      }

      input:focus,
      textarea:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
      }

      textarea {
        min-height: 80px;
        resize: vertical;
      }

      /* Buttons */
      .button-group {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
      }

      .action-button {
        padding: 12px 30px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        text-decoration: none;
        display: inline-block;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
      }

      .action-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      }

      .action-button.previous {
        background: linear-gradient(135deg, #9e9e9e 0%, #757575 100%);
        box-shadow: 0 4px 15px rgba(158, 158, 158, 0.3);
      }

      .action-button.previous:hover {
        box-shadow: 0 6px 20px rgba(158, 158, 158, 0.4);
      }

      /* Footer Styles */
      footer {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 -2px 20px rgba(0, 0, 0, 0.1);
        margin-top: auto;
      }

      .footer-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 30px 30px 15px;
      }

      .footer-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 30px;
        margin-bottom: 20px;
      }

      .footer-section h3 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 15px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .footer-section p {
        color: #666;
        line-height: 1.6;
        font-size: 13px;
      }

      .footer-links {
        list-style: none;
      }

      .footer-links li {
        margin-bottom: 8px;
      }

      .footer-links a {
        color: #666;
        text-decoration: none;
        font-size: 13px;
        transition: all 0.3s ease;
        display: inline-block;
      }

      .footer-links a:hover {
        color: #667eea;
        transform: translateX(5px);
      }

      .social-links {
        display: flex;
        gap: 12px;
        margin-top: 15px;
      }

      .social-links a {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        text-decoration: none;
        transition: all 0.3s ease;
        font-size: 16px;
      }

      .social-links a:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      .footer-bottom {
        border-top: 1px solid #e0e0e0;
        padding-top: 15px;
        text-align: center;
      }

      .footer-bottom p {
        color: #666;
        font-size: 13px;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .header-container {
          padding: 15px 20px;
        }

        nav {
          position: fixed;
          top: 70px;
          left: -100%;
          width: 100%;
          background: rgba(255, 255, 255, 0.98);
          flex-direction: column;
          padding: 30px;
          gap: 20px;
          box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
          transition: left 0.3s ease;
        }

        nav.active {
          left: 0;
        }

        .menu-toggle {
          display: block;
        }

        #msform {
          padding: 30px 20px;
        }

        .fs-title {
          font-size: 24px;
        }

        #progressbar li {
          font-size: 9px;
        }

        #progressbar li:before {
          width: 50px;
          height: 50px;
          line-height: 50px;
          font-size: 16px;
        }

        .footer-content {
          grid-template-columns: 1fr;
          gap: 30px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header>
      <div class="header-container">
        <a href="#" class="logo">
          <i class="fas fa-rocket"></i>
          <span class="logo-text">MyWebsite</span>
        </a>

        <div class="menu-toggle" onclick="toggleMenu()">
          <i class="fas fa-bars"></i>
        </div>

        <nav id="mainNav">
          <a href="#">Trang Chủ</a>
          <a href="#">Dịch Vụ</a>
          <a href="#">Về Chúng Tôi</a>
          <a href="#">Liên Hệ</a>
          <a href="#" class="header-btn">Đăng Nhập</a>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main>
      <div class="container">
        <form id="msform">
          <!-- Progress Bar -->
          <ul id="progressbar">
            <li class="active">Tài Khoản</li>
            <li>Mạng Xã Hội</li>
            <li>Thông Tin</li>
          </ul>

          <!-- Step 1 -->
          <fieldset>
            <h2 class="fs-title">Tạo Tài Khoản</h2>
            <h3 class="fs-subtitle">Bước đầu tiên để bắt đầu</h3>

            <div class="input-group">
              <i class="fas fa-envelope"></i>
              <input
                type="text"
                name="username"
                placeholder="username của bạn"
                required
              />
            </div>

            <div class="input-group">
              <i class="fas fa-envelope"></i>
              <input
                type="email"
                name="email"
                placeholder="Email của bạn"
                required
              />
            </div>

            <div class="input-group">
              <i class="fas fa-lock"></i>
              <input
                type="password"
                name="password"
                placeholder="Mật khẩu"
                required
              />
            </div>

            <div class="input-group">
              <i class="fas fa-lock"></i>
              <input
                type="password"
                name="confirmPassword"
                placeholder="Xác nhận mật khẩu"
                required
              />
            </div>

            <div class="button-group">
              <input
                type="button"
                name="next"
                class="next action-button"
                value="Tiếp Tục"
              />
            </div>
          </fieldset>

          <!-- Step 2 -->
          <fieldset>
            <h2 class="fs-title">Mạng Xã Hội</h2>
            <h3 class="fs-subtitle">Kết nối với chúng tôi (không bắt buộc)</h3>

            <div class="input-group">
              <i class="fab fa-twitter"></i>
              <input type="text" name="twitter" placeholder="Twitter" />
            </div>

            <div class="input-group">
              <i class="fab fa-facebook"></i>
              <input type="text" name="facebook" placeholder="Facebook" />
            </div>

            <div class="input-group">
              <i class="fab fa-instagram"></i>
              <input type="text" name="instagram" placeholder="Instagram" />
            </div>

            <div class="button-group">
              <input
                type="button"
                name="previous"
                class="previous action-button"
                value="Quay Lại"
              />
              <input
                type="button"
                name="next"
                class="next action-button"
                value="Tiếp Tục"
              />
            </div>
          </fieldset>

          <!-- Step 3 -->
          <fieldset>
            <h2 class="fs-title">Thông Tin Cá Nhân</h2>
            <h3 class="fs-subtitle">Chúng tôi sẽ bảo mật thông tin của bạn</h3>

            <div class="input-group">
              <i class="fas fa-user"></i>
              <input type="text" name="fname" placeholder="Họ" />
            </div>

            <div class="input-group">
              <i class="fas fa-user"></i>
              <input type="text" name="lname" placeholder="Tên" />
            </div>

            <div class="input-group">
              <i class="fas fa-phone"></i>
              <input type="text" name="phone" placeholder="Số điện thoại" />
            </div>

            <div class="input-group">
              <i class="fas fa-map-marker-alt"></i>
              <textarea name="address" placeholder="Địa chỉ"></textarea>
            </div>

            <div class="button-group">
              <input
                type="button"
                name="previous"
                class="previous action-button"
                value="Quay Lại"
              />
              <button type="submit" class="submit action-button">
                Hoàn Thành
              </button>
            </div>
          </fieldset>
        </form>
      </div>
    </main>

    <!-- Footer -->
    <footer>
      <div class="footer-container">
        <div class="footer-content">
          <div class="footer-section">
            <h3>Về Chúng Tôi</h3>
            <p>
              Chúng tôi cung cấp các giải pháp tốt nhất cho doanh nghiệp của
              bạn. Với đội ngũ chuyên nghiệp và tận tâm, chúng tôi cam kết mang
              đến dịch vụ chất lượng cao nhất.
            </p>
            <div class="social-links">
              <a href="#"><i class="fab fa-facebook-f"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
          </div>

          <div class="footer-section">
            <h3>Liên Kết Nhanh</h3>
            <ul class="footer-links">
              <li><a href="#">Trang Chủ</a></li>
              <li><a href="#">Dịch Vụ</a></li>
              <li><a href="#">Về Chúng Tôi</a></li>
              <li><a href="#">Blog</a></li>
              <li><a href="#">Liên Hệ</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>Dịch Vụ</h3>
            <ul class="footer-links">
              <li><a href="#">Thiết Kế Web</a></li>
              <li><a href="#">Phát Triển App</a></li>
              <li><a href="#">Marketing</a></li>
              <li><a href="#">SEO</a></li>
              <li><a href="#">Tư Vấn</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>Liên Hệ</h3>
            <ul class="footer-links">
              <li>
                <i class="fas fa-map-marker-alt"></i> 123 Đường ABC, Quận 1,
                TP.HCM
              </li>
              <li><i class="fas fa-phone"></i> +84 123 456 789</li>
              <li><i class="fas fa-envelope"></i> info@mywebsite.com</li>
              <li><i class="fas fa-clock"></i> Thứ 2 - Thứ 6: 9:00 - 18:00</li>
            </ul>
          </div>
        </div>

        <div class="footer-bottom">
          <p>&copy; 2025 MyWebsite. Tất cả quyền được bảo lưu.</p>
        </div>
      </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <script>
      // Toggle mobile menu
      function toggleMenu() {
        document.getElementById("mainNav").classList.toggle("active");
      }

      // Multi-step form
      $(document).ready(function () {
        var current_fs, next_fs, previous_fs;
        var opacity;
        var current = 1;
        var steps = $("fieldset").length;

        setProgressBar(current);

        $(".next").click(function () {
          current_fs = $(this).parent().parent();
          next_fs = $(this).parent().parent().next();

          $("#progressbar li")
            .eq($("fieldset").index(next_fs))
            .addClass("active");

          next_fs.show();
          current_fs.animate(
            { opacity: 0 },
            {
              step: function (now) {
                opacity = 1 - now;
                current_fs.css({
                  display: "none",
                  position: "relative",
                });
                next_fs.css({ opacity: opacity });
              },
              duration: 500,
            }
          );
          setProgressBar(++current);
        });

        $(".previous").click(function () {
          current_fs = $(this).parent().parent();
          previous_fs = $(this).parent().parent().prev();

          $("#progressbar li")
            .eq($("fieldset").index(current_fs))
            .removeClass("active");

          previous_fs.show();
          current_fs.animate(
            { opacity: 0 },
            {
              step: function (now) {
                opacity = 1 - now;
                current_fs.css({
                  display: "none",
                  position: "relative",
                });
                previous_fs.css({ opacity: opacity });
              },
              duration: 500,
            }
          );
          setProgressBar(--current);
        });

        function setProgressBar(curStep) {
          var percent = parseFloat(100 / steps) * curStep;
          percent = percent.toFixed();
          $(".progress-bar").css("width", percent + "%");
        }

        // $(".submit").click(function () {
        //   return false;
        // });
      });
    </script>
    <script>
      document
        .querySelector("#msform")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const data = Object.fromEntries(new FormData(e.target));

          const res = await fetch("/api/auth/register", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          });

          const text = await res.text();
          if (res.ok) {
            alert("✅ " + text);
            window.location.href = "/login";
          } else {
            alert("❌ " + text);
          }
        });
    </script>
  </body>
</html>
