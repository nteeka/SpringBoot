<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Danh M·ª•c Hoa - GreenLife</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(180deg, #fef9f3 0%, #fff 100%);
        color: #2d3436;
        padding: 2rem 0;
      }

      /* Hero */
      .hero {
        background: linear-gradient(
          135deg,
          rgba(102, 126, 234, 0.1),
          rgba(118, 75, 162, 0.1)
        );
        padding: 3rem 1.5rem 2rem;
        text-align: center;
        margin-bottom: 2rem;
      }
      .hero h1 {
        font-size: 2.5rem;
        color: #2d3436;
        margin-bottom: 0.5rem;
      }
      .hero p {
        color: #636e72;
        font-size: 1.1rem;
      }

      /* Popular Topics */
      .popular-topics {
        margin-top: 1.5rem;
        display: flex;
        flex-wrap: wrap;
        gap: 0.6rem;
      }

      .topic-label {
        font-size: 0.85rem;
        color: #636e72;
        font-weight: 500;
      }

      .topic-tag {
        background: linear-gradient(135deg, #667eea10, #764ba210);
        color: #667eea;
        padding: 0.4rem 0.9rem;
        border-radius: 20px;
        font-size: 0.85rem;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 1px solid transparent;
      }

      .topic-tag:hover {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
      }

      /* Search Filters */
      .search-filters {
        margin-top: 1.2rem;
        display: flex;
        gap: 0.8rem;
        flex-wrap: wrap;
      }

      .filter-chip {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        background: #f8f9fa;
        border-radius: 25px;
        font-size: 0.85rem;
        color: #636e72;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
      }

      .filter-chip:hover,
      .filter-chip.active {
        background: white;
        border-color: #667eea;
        color: #667eea;
        transform: translateY(-2px);
      }

      .filter-chip-icon {
        font-size: 1rem;
      }

      /* Loading State */
      .search-loading {
        display: none;
        text-align: center;
        padding: 2rem;
        color: #636e72;
      }

      .search-loading.active {
        display: block;
      }

      .spinner {
        border: 3px solid #f3f3f3;
        border-top: 3px solid #667eea;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: 0 auto 1rem;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Responsive */
      @media (max-width: 768px) {
        .search-container {
          padding: 1.5rem;
        }

        .popular-topics {
          gap: 0.5rem;
        }

        .topic-tag {
          font-size: 0.8rem;
          padding: 0.35rem 0.8rem;
        }

        .search-filters {
          gap: 0.6rem;
        }
      }

      /* Quick Filter */
      .quick-filter {
        max-width: 1200px;
        margin: 0 auto 2rem;
        padding: 0 1.5rem;
        display: flex;
        gap: 0.8rem;
        flex-wrap: wrap;
        justify-content: center;
      }
      .filter-btn {
        background: white;
        border: 2px solid #e9ecef;
        padding: 0.6rem 1.2rem;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 0.9rem;
        font-weight: 500;
        color: #636e72;
      }
      .filter-btn:hover,
      .filter-btn.active {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border-color: transparent;
        transform: translateY(-2px);
      }

      /* Container */
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem;
      }
      .section-title {
        font-size: 1.6rem;
        margin: 3rem 0 1.5rem;
        color: #2d3436;
        position: relative;
        padding-bottom: 0.5rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .section-title::after {
        content: "";
        flex: 1;
        height: 2px;
        background: linear-gradient(90deg, #667eea, transparent);
        margin-left: 1rem;
      }

      /* Category Grid */
      .category-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(270px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
      }
      .category-card {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        border: 2px solid transparent;
      }
      .category-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.15);
        border-color: #667eea;
      }
      .category-img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        transition: transform 0.3s;
      }
      .category-card:hover .category-img {
        transform: scale(1.08);
      }
      .category-info {
        padding: 1rem;
      }
      .category-name {
        font-size: 1.1rem;
        font-weight: 600;
        color: #2d3436;
        margin-bottom: 0.4rem;
      }
      .category-desc {
        color: #636e72;
        font-size: 0.85rem;
        margin-bottom: 0.6rem;
        line-height: 1.4;
      }
      .category-count {
        color: #667eea;
        font-size: 0.8rem;
        font-weight: 500;
      }
      .category-badge {
        position: absolute;
        top: 12px;
        right: 12px;
        background: rgba(255, 255, 255, 0.95);
        padding: 0.25rem 0.7rem;
        border-radius: 15px;
        font-size: 0.7rem;
        font-weight: 600;
        color: #667eea;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      }
      .badge-hot {
        background: #ff4757;
        color: white;
      }
      .badge-new {
        background: #5f27cd;
        color: white;
      }

      /* Featured Grid */
      .featured-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
      }
      .featured-card {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
      }
      .featured-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
      }
      .featured-img {
        width: 100%;
        height: 250px;
        object-fit: cover;
      }
      .featured-info {
        padding: 1.5rem;
      }
      .featured-name {
        font-size: 1.4rem;
        font-weight: 700;
        color: #2d3436;
        margin-bottom: 0.5rem;
      }
      .featured-desc {
        color: #636e72;
        line-height: 1.6;
        margin-bottom: 1rem;
      }

      @media (max-width: 768px) {
        .hero h1 {
          font-size: 2rem;
        }
        .category-grid {
          grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        }
        .featured-grid {
          grid-template-columns: 1fr;
        }
      }
      * {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      img {
        will-change: auto; /* T·∫Øt GPU acceleration cho ·∫£nh */
      }

      html {
        scroll-behavior: auto !important; /* Lo·∫°i b·ªè smooth scroll */
      }
      .category-card,
      .featured-card {
        contain: layout style paint; /* CSS containment */
        content-visibility: auto; /* Render optimization */
      }
    </style>
  </head>
  <body>
    <div th:replace="common/header :: siteHeader"></div>

    <div class="hero">
      <h1>üå∫ Kh√°m Ph√° B·ªô S∆∞u T·∫≠p Hoa</h1>
      <p>Ch·ªçn hoa ph√π h·ª£p cho m·ªçi d·ªãp v√† kh√¥ng gian c·ªßa b·∫°n</p>
    </div>

    <div class="container">
      <!-- N·ªïi b·∫≠t -->
      <h2 class="section-title">‚≠ê B·ªô S∆∞u T·∫≠p N·ªïi B·∫≠t</h2>
      <div class="featured-grid">
        <div class="featured-card">
          <span class="category-badge badge-hot">üî• Hot</span>
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1518621736915-f3b1c41bfd00"
            alt="Sinh Nh·∫≠t"
            class="featured-img"
          />
          <div class="featured-info">
            <h3 class="featured-name">üéÇ Hoa Sinh Nh·∫≠t Premium</h3>
            <p class="featured-desc">Thi·∫øt k·∫ø sang tr·ªçng cho ng√†y ƒë·∫∑c bi·ªát</p>
            <span class="category-count">247 s·∫£n ph·∫©m t·ª´ 299k</span>
          </div>
        </div>
        <div class="featured-card">
          <span class="category-badge badge-new">‚ú® M·ªõi</span>
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1606041008023-472dfb5e530f"
            alt="T·∫øt"
            class="featured-img"
          />
          <div class="featured-info">
            <h3 class="featured-name">üßß Hoa T·∫øt 2025</h3>
            <p class="featured-desc">Mai, ƒë√†o, kumquat ƒë√≥n Xu√¢n th·ªãnh v∆∞·ª£ng</p>
            <span class="category-count">198 s·∫£n ph·∫©m t·ª´ 450k</span>
          </div>
        </div>
        <div class="featured-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1487070183336-b863922373d4"
            alt="Khai Tr∆∞∆°ng"
            class="featured-img"
          />
          <div class="featured-info">
            <h3 class="featured-name">üéä Hoa Khai Tr∆∞∆°ng</h3>
            <p class="featured-desc">Lan, k·ªá hoa ch√∫c m·ª´ng cao c·∫•p</p>
            <span class="category-count">156 s·∫£n ph·∫©m t·ª´ 800k</span>
          </div>
        </div>
      </div>

      <!-- Theo D·ªãp -->
      <h2 class="section-title">üéâ Hoa Theo D·ªãp L·ªÖ</h2>
      <div class="category-grid">
        <div class="category-card">
          <span class="category-badge">Best seller</span>
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1522771930-78848d9293e8"
            alt="Valentine"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üíï Valentine</h3>
            <p class="category-desc">H·ªìng ƒë·ªè, tulip - t√¨nh y√™u n·ªìng n√†n</p>
            <span class="category-count">189 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1501004318641-b39e6451bec6"
            alt="Ng√†y M·∫π"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üë© Ng√†y c·ªßa M·∫π</h3>
            <p class="category-desc">C·∫©m ch∆∞·ªõng, c·∫©m t√∫ c·∫ßu</p>
            <span class="category-count">134 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1490750967868-88aa4486c946"
            alt="8/3"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üåπ 8/3 Qu·ªëc T·∫ø Ph·ª• N·ªØ</h3>
            <p class="category-desc">H·ªìng, ly, tulip tri √¢n</p>
            <span class="category-count">167 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1455659817273-f96807779a8a"
            alt="20/10"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üíê 20/10 Ph·ª• N·ªØ VN</h3>
            <p class="category-desc">ƒêa d·∫°ng m√†u s·∫Øc t∆∞∆°i ƒë·∫πp</p>
            <span class="category-count">145 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1512428559087-560fa5ceab42"
            alt="T·ªët Nghi·ªáp"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üéì T·ªët Nghi·ªáp</h3>
            <p class="category-desc">H·ªìng, baby thanh l·ªãch</p>
            <span class="category-count">98 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1508610048659-a06b669e3321"
            alt="K·ª∑ Ni·ªám"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üíç K·ª∑ Ni·ªám</h3>
            <p class="category-desc">H·ªìng cao c·∫•p sang tr·ªçng</p>
            <span class="category-count">112 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1464297162577-f5295c892194"
            alt="C∆∞·ªõi"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üíí C∆∞·ªõi H·ªèi</h3>
            <p class="category-desc">C·∫ßm tay c√¥ d√¢u, trang tr√≠</p>
            <span class="category-count">176 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1458459410410-c9edff2071fe"
            alt="ThƒÉm B·ªánh"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üè• ThƒÉm B·ªánh</h3>
            <p class="category-desc">Nh·∫π nh√†ng, g·ª≠i t√¢m t√¨nh</p>
            <span class="category-count">87 s·∫£n ph·∫©m</span>
          </div>
        </div>
      </div>

      <!-- Theo Lo·∫°i -->
      <h2 class="section-title">üå∏ Lo·∫°i Hoa Y√™u Th√≠ch</h2>
      <div class="category-grid">
        <div class="category-card">
          <span class="category-badge badge-hot">Top 1</span>
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1518709414768-a88981a4515d"
            alt="H·ªìng"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üåπ Hoa H·ªìng</h3>
            <p class="category-desc">N·ªØ ho√†ng c√°c lo√†i hoa</p>
            <span class="category-count">284 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1551388584-e7c6c27ef722"
            alt="Lan"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">ü¶ã Lan H·ªì ƒêi·ªáp</h3>
            <p class="category-desc">Sang tr·ªçng qu√Ω ph√°i</p>
            <span class="category-count">156 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1563241527-3004b7be0ffd"
            alt="Tulip"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üå∑ Hoa Tulip</h3>
            <p class="category-desc">Nh·∫≠p kh·∫©u H√† Lan</p>
            <span class="category-count">92 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1523693916903-027d144a2b7d"
            alt="Ly"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">ü§ç Hoa Ly</h3>
            <p class="category-desc">Tr·∫Øng tinh kh√¥i th∆°m</p>
            <span class="category-count">118 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1597437893808-f5a04b3a9e7d"
            alt="H∆∞·ªõng D∆∞∆°ng"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üåª H∆∞·ªõng D∆∞∆°ng</h3>
            <p class="category-desc">T∆∞∆°i vui nƒÉng l∆∞·ª£ng</p>
            <span class="category-count">105 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1594671233837-f2ce0ce9258a"
            alt="C·∫©m T√∫ C·∫ßu"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üíô C·∫©m T√∫ C·∫ßu</h3>
            <p class="category-desc">Pastel d·ªãu d√†ng</p>
            <span class="category-count">89 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1587814213271-74b8e290f0e3"
            alt="C·∫©m Ch∆∞·ªõng"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üå∫ C·∫©m Ch∆∞·ªõng</h3>
            <p class="category-desc">B·ªÅn l√¢u ƒëa m√†u</p>
            <span class="category-count">142 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1582794543139-8ac9cb0f7b11"
            alt="Baby"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">‚òÅÔ∏è Hoa Baby</h3>
            <p class="category-desc">Trang tr√≠ b√≥ hoa</p>
            <span class="category-count">67 s·∫£n ph·∫©m</span>
          </div>
        </div>
      </div>

      <!-- Phong C√°ch -->
      <h2 class="section-title">üé® Theo Phong C√°ch</h2>
      <div class="category-grid">
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1487070183336-b863922373d4"
            alt="Sang Tr·ªçng"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üëë Sang Tr·ªçng</h3>
            <p class="category-desc">Nh·∫≠p kh·∫©u cao c·∫•p</p>
            <span class="category-count">78 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1561181286-d3fee7d55364"
            alt="Vintage"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üï∞Ô∏è Vintage</h3>
            <p class="category-desc">Pastel retro l√£ng m·∫°n</p>
            <span class="category-count">94 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1563968743333-044cef800494"
            alt="Hi·ªán ƒê·∫°i"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">‚ú® Hi·ªán ƒê·∫°i</h3>
            <p class="category-desc">T·ªëi gi·∫£n tinh t·∫ø</p>
            <span class="category-count">112 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1455659817273-f96807779a8a"
            alt="Rustic"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üåø Rustic</h3>
            <p class="category-desc">V∆∞·ªùn n√¥ng th√¥n</p>
            <span class="category-count">86 s·∫£n ph·∫©m</span>
          </div>
        </div>
      </div>

      <!-- M·ª©c Gi√° -->
      <h2 class="section-title">üí∞ Theo M·ª©c Gi√°</h2>
      <div class="category-grid">
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1588181754513-c5e0c1ec6c96"
            alt="<500k"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üí∏ D∆∞·ªõi 500k</h3>
            <p class="category-desc">Gi√° ph·∫£i chƒÉng</p>
            <span class="category-count">234 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1471286274405-579f8d7132d8"
            alt="500k-1tr"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üíµ 500k - 1tr</h3>
            <p class="category-desc">ƒêa d·∫°ng l·ª±a ch·ªçn</p>
            <span class="category-count">198 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1462275646964-a0e3386b89fa"
            alt="1tr-2tr"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üí¥ 1tr - 2tr</h3>
            <p class="category-desc">Cao c·∫•p sang tr·ªçng</p>
            <span class="category-count">142 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1429734956993-8a9b0555e122"
            alt=">2tr"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üíé Tr√™n 2tr</h3>
            <p class="category-desc">VIP ƒë·∫∑c bi·ªát</p>
            <span class="category-count">89 s·∫£n ph·∫©m</span>
          </div>
        </div>
      </div>

      <!-- C√¢y C·∫£nh -->
      <h2 class="section-title">ü™¥ C√¢y C·∫£nh & Combo</h2>
      <div class="category-grid">
        <div class="category-card">
          <span class="category-badge">Phong th·ªßy</span>
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1459156212016-c812468e2115"
            alt="Phong Th·ªßy"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">‚òòÔ∏è C√¢y Phong Th·ªßy</h3>
            <p class="category-desc">Kim ti·ªÅn, t√†i l·ªôc</p>
            <span class="category-count">124 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1463320726281-696a485928c7"
            alt="ƒê·ªÉ B√†n"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üå± C√¢y ƒê·ªÉ B√†n</h3>
            <p class="category-desc">Sen ƒë√°, x∆∞∆°ng r·ªìng</p>
            <span class="category-count">156 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1485955900006-10f4d324d411"
            alt="Trong Nh√†"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üè° Trang Tr√≠ N·ªôi Th·∫•t</h3>
            <p class="category-desc">L·ªçc kh√¥ng kh√≠</p>
            <span class="category-count">98 s·∫£n ph·∫©m</span>
          </div>
        </div>
        <div class="category-card">
          <span class="category-badge badge-hot">Ti·∫øt ki·ªám</span>
          <img
            loading="lazy"
            src="https://images.unsplash.com/photo-1455659817273-f96807779a8a"
            alt="Combo"
            class="category-img"
          />
          <div class="category-info">
            <h3 class="category-name">üéÅ Combo ∆Øu ƒê√£i</h3>
            <p class="category-desc">Hoa + c√¢y gi·∫£m 30%</p>
            <span class="category-count">76 s·∫£n ph·∫©m</span>
          </div>
        </div>
      </div>
    </div>
    <div th:replace="common/footer :: siteFooter"></div>

    <script>
      // Debounce function
      function debounce(func, wait) {
        let timeout;
        return function (...args) {
          clearTimeout(timeout);
          timeout = setTimeout(() => func.apply(this, args), wait);
        };
      }

      // Throttle function cho scroll
      function throttle(func, limit) {
        let inThrottle;
        return function (...args) {
          if (!inThrottle) {
            func.apply(this, args);
            inThrottle = true;
            setTimeout(() => (inThrottle = false), limit);
          }
        };
      }

      // Card animation t·ªëi ∆∞u - ch·ªâ ch·∫°y 1 l·∫ßn khi load
      let cardsAnimated = false;
      function animateCards() {
        if (cardsAnimated) return;
        cardsAnimated = true;

        const cards = document.querySelectorAll(
          ".category-card, .featured-card"
        );

        // D√πng CSS transform thay v√¨ animation t·ª´ng card
        cards.forEach((card, idx) => {
          card.style.cssText = `
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.4s ease ${idx * 0.03}s, transform 0.4s ease ${
            idx * 0.03
          }s;
    `;

          // Trigger animation ngay sau ƒë√≥
          requestAnimationFrame(() => {
            card.style.opacity = "1";
            card.style.transform = "translateY(0)";
          });
        });
      }

      // Click handler cho cards - t·ªëi ∆∞u
      function handleCardClick(e) {
        const card = e.currentTarget;
        const nameEl = card.querySelector(".category-name, .featured-name");
        if (nameEl) {
          const name = nameEl.textContent;
          // Chuy·ªÉn trang ngay kh√¥ng delay
          window.location.href = `/products?category=${encodeURIComponent(
            name
          )}`;
        }
      }

      // Filter buttons
      function initFilterButtons() {
        const filterBtns = document.querySelectorAll(".filter-btn");
        if (filterBtns.length === 0) return;

        filterBtns.forEach((btn) => {
          btn.addEventListener(
            "click",
            (e) => {
              e.preventDefault();
              filterBtns.forEach((b) => b.classList.remove("active"));
              btn.classList.add("active");
            },
            { passive: true }
          );
        });
      }

      // Search functionality
      const searchInput = document.getElementById("searchInput");
      const searchSuggestions = document.getElementById("searchSuggestions");
      const voiceBtn = document.getElementById("voiceBtn");

      // Show suggestions v·ªõi debounce
      if (searchInput && searchSuggestions) {
        // Focus event
        searchInput.addEventListener(
          "focus",
          () => {
            if (searchInput.value.length > 0) {
              searchSuggestions.classList.add("active");
            }
          },
          { passive: true }
        );

        // Input v·ªõi debounce
        const handleInput = debounce((e) => {
          const value = e.target.value.trim();
          if (value.length > 0) {
            searchSuggestions.classList.add("active");
          } else {
            searchSuggestions.classList.remove("active");
          }
        }, 150);

        searchInput.addEventListener("input", handleInput);

        // Enter key search
        searchInput.addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            const value = searchInput.value.trim();
            if (value) {
              e.preventDefault();
              searchSuggestions.classList.remove("active");
              performSearch(value);
            }
          }
        });
      }

      // Click outside v·ªõi passive listener
      let clickOutsideTimeout;
      document.addEventListener(
        "click",
        (e) => {
          if (searchSuggestions && !e.target.closest(".search-container")) {
            clearTimeout(clickOutsideTimeout);
            clickOutsideTimeout = setTimeout(() => {
              searchSuggestions.classList.remove("active");
            }, 10);
          }
        },
        { passive: true }
      );

      // Suggestion items - event delegation
      if (searchSuggestions) {
        searchSuggestions.addEventListener(
          "click",
          (e) => {
            const item = e.target.closest(".suggestion-item");
            if (item) {
              const keyword = item.dataset.keyword;
              if (searchInput) searchInput.value = keyword;
              searchSuggestions.classList.remove("active");
              performSearch(keyword);
            }
          },
          { passive: true }
        );
      }

      // Topic tags - event delegation
      const topicContainer = document.querySelector(".popular-topics");
      if (topicContainer) {
        topicContainer.addEventListener(
          "click",
          (e) => {
            const tag = e.target.closest(".topic-tag");
            if (tag) {
              const topic = tag.dataset.topic;
              if (searchInput) searchInput.value = topic;
              performSearch(topic);
            }
          },
          { passive: true }
        );
      }

      // Filter chips - event delegation
      const filterContainer = document.querySelector(".search-filters");
      if (filterContainer) {
        filterContainer.addEventListener(
          "click",
          (e) => {
            const chip = e.target.closest(".filter-chip");
            if (chip) {
              chip.classList.toggle("active");
              const filter = chip.dataset.filter;
              window.location.href = `/products?filter=${encodeURIComponent(
                filter
              )}`;
            }
          },
          { passive: true }
        );
      }

      // Voice search t·ªëi ∆∞u
      if (voiceBtn) {
        voiceBtn.addEventListener("click", () => {
          if (
            "webkitSpeechRecognition" in window ||
            "SpeechRecognition" in window
          ) {
            const SpeechRecognition =
              window.SpeechRecognition || window.webkitSpeechRecognition;
            const recognition = new SpeechRecognition();
            recognition.lang = "vi-VN";
            recognition.continuous = false;
            recognition.interimResults = false;

            recognition.onstart = () => {
              voiceBtn.classList.add("listening");
              voiceBtn.textContent = "üî¥";
            };

            recognition.onresult = (event) => {
              const transcript = event.results[0][0].transcript;
              if (searchInput) searchInput.value = transcript;
              performSearch(transcript);
            };

            recognition.onend = () => {
              voiceBtn.classList.remove("listening");
              voiceBtn.textContent = "üé§";
            };

            recognition.onerror = () => {
              voiceBtn.classList.remove("listening");
              voiceBtn.textContent = "üé§";
            };

            recognition.start();
          }
        });
      }

      // Search function - chuy·ªÉn trang ngay
      function performSearch(keyword) {
        if (!keyword || !keyword.trim()) return;
        window.location.href = `/products?search=${encodeURIComponent(
          keyword.trim()
        )}`;
      }

      // Scroll optimization v·ªõi Intersection Observer
      let observer;
      function setupLazyLoad() {
        const images = document.querySelectorAll("img[data-src]");
        if (images.length === 0) return;

        observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src;
                img.removeAttribute("data-src");
                observer.unobserve(img);
              }
            });
          },
          {
            rootMargin: "50px",
            threshold: 0.01,
          }
        );

        images.forEach((img) => observer.observe(img));
      }

      // Scroll handler v·ªõi throttle - ch·ªâ khi c·∫ßn
      const handleScroll = throttle(() => {
        // Th√™m logic scroll n·∫øu c·∫ßn (sticky header, back to top, etc.)
        // Hi·ªán t·∫°i ƒë·ªÉ tr·ªëng ƒë·ªÉ tr√°nh x·ª≠ l√Ω kh√¥ng c·∫ßn thi·∫øt
      }, 100);

      // Ch·ªâ add scroll listener n·∫øu th·ª±c s·ª± c·∫ßn
      // window.addEventListener("scroll", handleScroll, { passive: true });

      // Initialize - ch·ªâ ch·∫°y nh·ªØng g√¨ c·∫ßn thi·∫øt
      document.addEventListener("DOMContentLoaded", () => {
        // Animate cards m·ªôt l·∫ßn
        animateCards();

        // Setup card clicks v·ªõi event delegation
        const container = document.querySelector(".container");
        if (container) {
          container.addEventListener(
            "click",
            (e) => {
              const card = e.target.closest(".category-card, .featured-card");
              if (card) {
                handleCardClick({ currentTarget: card });
              }
            },
            { passive: false }
          );
        }

        // Initialize filter buttons
        initFilterButtons();

        // Setup lazy load n·∫øu c√≥
        setupLazyLoad();
      });

      // Preload critical resources
      const preloadImages = () => {
        const criticalImages = document.querySelectorAll(
          ".featured-img, .category-img"
        );
        criticalImages.forEach((img, idx) => {
          if (idx < 6) {
            // Ch·ªâ preload 6 ·∫£nh ƒë·∫ßu
            const src = img.src || img.dataset.src;
            if (src) {
              const preloadLink = document.createElement("link");
              preloadLink.rel = "preload";
              preloadLink.as = "image";
              preloadLink.href = src;
              document.head.appendChild(preloadLink);
            }
          }
        });
      };

      // Performance optimization
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", preloadImages);
      } else {
        preloadImages();
      }

      // Disable smooth scroll ƒë·ªÉ tr√°nh gi·∫≠t
      document.documentElement.style.scrollBehavior = "auto";
    </script>
  </body>
</html>
