<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GreenLife - Danh S√°ch S·∫£n Ph·∫©m</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Poppins", sans-serif;
        background: #f7f8fc;
        color: #333;
        scroll-behavior: smooth;
      }
      header {
        background: white;
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
        /* position: sticky; */
        top: 0;
        z-index: 100;
      }
      .top-bar {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        text-align: center;
        padding: 0.4rem 0;
        font-size: 0.85rem;
        font-weight: 500;
      }
      nav {
        max-width: 1200px;
        margin: auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem 1.5rem;
      }
      .logo {
        font-size: 1.8rem;
        font-weight: 700;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-decoration: none;
      }
      .nav-center {
        display: flex;
        gap: 2rem;
        list-style: none;
      }
      .nav-center a {
        color: #2d3436;
        text-decoration: none;
        font-weight: 500;
        position: relative;
      }
      .nav-center a:hover {
        color: #667eea;
      }
      .nav-right {
        display: flex;
        align-items: center;
        gap: 1rem;
      }
      .search-input {
        border: 2px solid #e9ecef;
        border-radius: 25px;
        padding: 0.5rem 1rem;
        outline: none;
        transition: all 0.3s;
        width: 200px;
      }
      .search-input:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }
      @keyframes flyToCart {
        0% {
          opacity: 1;
          transform: scale(1) translate(0, 0);
        }
        100% {
          opacity: 0;
          transform: scale(0.3);
        }
      }
      @keyframes cartShake {
        0%,
        100% {
          transform: rotate(0deg);
        }
        25% {
          transform: rotate(-15deg);
        }
        75% {
          transform: rotate(15deg);
        }
      }
      #cartIcon.shake {
        animation: cartShake 0.4s ease;
      }
      .fly-img {
        position: fixed;
        z-index: 9999;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        object-fit: cover;
        pointer-events: none;
        animation: flyToCart 1s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* Banner */
      .page-banner {
        text-align: center;
        color: white;
        padding: 4rem 1rem;
        background: linear-gradient(135deg, #667eea, #764ba2);
      }
      .page-banner h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
      }
      .page-banner p {
        opacity: 0.9;
      }

      /* Layout */
      main {
        max-width: 1200px;
        margin: 2.5rem auto;
        display: flex;
        gap: 2rem;
        padding: 0 1.5rem;
      }
      aside {
        flex: 0 0 280px;
        background: white;
        border-radius: 20px;
        padding: 1.2rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        position: sticky;
        top: 100px;
        height: fit-content;
      }
      details {
        background: #fafbff;
        border-radius: 12px;
        padding: 0.8rem 1rem;
        margin-bottom: 1rem;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        transition: all 0.3s;
      }
      details summary {
        font-weight: 600;
        cursor: pointer;
        color: #667eea;
        list-style: none;
      }
      details[open] summary {
        color: #764ba2;
      }
      label {
        display: flex;
        align-items: center;
        gap: 0.4rem;
        margin: 0.5rem 0;
      }
      input[type="checkbox"] {
        accent-color: #667eea;
      }
      select,
      input[type="range"] {
        width: 100%;
        margin-top: 0.6rem;
        border: 2px solid #e9ecef;
        border-radius: 12px;
        padding: 0.6rem;
        font-family: inherit;
      }
      select:focus {
        border-color: #667eea;
      }
      .price-display {
        display: flex;
        justify-content: space-between;
        font-size: 0.9rem;
        margin-top: 0.5rem;
      }
      .apply-btn,
      .reset-btn {
        width: 100%;
        padding: 0.8rem;
        border: none;
        border-radius: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
      }
      .apply-btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        margin-top: 0.8rem;
      }
      .apply-btn:hover {
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      }
      .reset-btn {
        background: #e9ecef;
        color: #333;
        margin-top: 0.5rem;
      }
      .reset-btn:hover {
        background: #dee2e6;
      }

      /* Quick filters */
      .quick-filters {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 1rem;
        flex-wrap: wrap;
      }
      .quick-filters button {
        background: white;
        border: 2px solid #e9ecef;
        border-radius: 25px;
        padding: 0.5rem 1rem;
        cursor: pointer;
        transition: all 0.3s;
      }
      .quick-filters button:hover,
      .quick-filters button.active {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border-color: transparent;
      }

      /* Product list */
      .products {
        flex: 1;
      }

      /* Search Box Container */
      .search-box {
        position: relative;
        width: 100%;
        margin-bottom: 1.5rem;
      }

      /* Input Search */
      #search {
        width: 100%;
        padding: 1rem 1.2rem 1rem 3rem;
        border: 2px solid #e9ecef;
        border-radius: 16px;
        font-size: 0.95rem;
        font-family: "Poppins", sans-serif;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        background: #ffffff;
        outline: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
      }

      #search::placeholder {
        color: #adb5bd;
        font-weight: 400;
      }

      #search:focus {
        border-color: #667eea;
        box-shadow: 0 4px 20px rgba(102, 126, 234, 0.15);
        transform: translateY(-2px);
        background: #ffffff;
      }

      /* Icon t√¨m ki·∫øm */
      .search-box::before {
        content: "üîç";
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.1rem;
        pointer-events: none;
        z-index: 1;
        transition: transform 0.3s ease;
      }

      #search:focus + .search-box::before,
      .search-box:has(#search:focus)::before {
        transform: translateY(-50%) scale(1.1);
      }

      /* Suggestions List */
      .suggestions-list {
        position: absolute;
        top: calc(100% + 8px);
        left: 0;
        right: 0;
        background: white;
        border: 1px solid #e9ecef;
        border-radius: 16px;
        list-style: none;
        max-height: 300px;
        overflow-y: auto;
        z-index: 1000;
        display: none;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        padding: 0.5rem 0;
        margin: 0;
      }

      /* Custom Scrollbar */
      .suggestions-list::-webkit-scrollbar {
        width: 6px;
      }

      .suggestions-list::-webkit-scrollbar-track {
        background: #f8f9fa;
        border-radius: 10px;
        margin: 8px 0;
      }

      .suggestions-list::-webkit-scrollbar-thumb {
        background: #dee2e6;
        border-radius: 10px;
        transition: background 0.3s;
      }

      .suggestions-list::-webkit-scrollbar-thumb:hover {
        background: #adb5bd;
      }

      /* Suggestion Items */
      .suggestions-list li {
        padding: 0.75rem 1.2rem;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 0.9rem;
        color: #495057;
        margin: 0 0.5rem;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .suggestions-list li:hover {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        transform: translateX(4px);
      }

      /* Highlight Text */
      .suggestions-list .highlight {
        font-weight: 600;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .suggestions-list li:hover .highlight {
        color: white;
        background: none;
        -webkit-text-fill-color: white;
      }

      /* Empty State */
      .suggestions-list li em {
        color: #adb5bd;
        font-style: normal;
      }

      /* Animation */
      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .suggestions-list:not([style*="display: none"]) {
        animation: slideDown 0.3s ease;
      }

      /* Responsive */
      @media (max-width: 768px) {
        #search {
          padding: 0.9rem 1rem 0.9rem 2.8rem;
          font-size: 0.9rem;
        }

        .search-box::before {
          left: 0.9rem;
          font-size: 1rem;
        }

        .suggestions-list {
          max-height: 250px;
        }
      }

      /* Focus visible for accessibility */
      #search:focus-visible {
        outline: 2px solid #667eea;
        outline-offset: 2px;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 1.5rem;
      }
      /* CARD S·∫¢N PH·∫®M M·ªöI */
      .card {
        position: relative;
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        overflow: hidden;
        transition: all 0.35s ease;
      }
      .card:hover {
        transform: translateY(-6px);
        box-shadow: 0 12px 30px rgba(102, 126, 234, 0.25);
      }

      .card-img {
        position: relative;
        overflow: hidden;
      }
      .card-img img {
        width: 100%;
        height: 220px;
        object-fit: cover;
        transition: transform 0.5s ease;
        border-bottom: 1px solid #f1f3f5;
      }
      .card:hover .card-img img {
        transform: scale(1.08);
      }

      /* Overlay khi hover */
      .card-overlay {
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.35);
        opacity: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        gap: 0.5rem;
        transition: opacity 0.3s ease;
      }
      .card:hover .card-overlay {
        opacity: 1;
      }

      /* N√∫t trong overlay */
      .card-overlay button {
        background: white;
        color: #333;
        font-weight: 600;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s;
        width: 140px;
      }
      .card-overlay button:hover {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
      }

      /* Th√¥ng tin s·∫£n ph·∫©m */
      .info {
        padding: 1rem 1.2rem 1.3rem;
        text-align: center;
      }
      .product-type {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        display: inline-block;
        font-size: 0.8rem;
        padding: 0.2rem 0.6rem;
        border-radius: 8px;
        margin-bottom: 0.5rem;
      }
      .info h4 {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 0.4rem;
        color: #2d3436;
      }
      .price {
        font-size: 1.2rem;
        font-weight: 700;
        color: #667eea;
        margin-bottom: 0.5rem;
      }

      /* Animation m∆∞·ª£t khi load */
      .fade-enter {
        animation: fadeIn 0.6s ease;
      }

      .pagination {
        display: flex;
        justify-content: center;
        gap: 0.5rem;
        margin-top: 2rem;
        flex-wrap: wrap;
      }
      .pagination button {
        border: none;
        background: white;
        color: #495057;
        padding: 0.6rem 1.2rem;
        border-radius: 12px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        cursor: pointer;
        transition: all 0.3s;
      }
      .pagination button.active,
      .pagination button:hover {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
      }

      /* Skeleton */
      .skeleton {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        padding: 1rem;
        animation: fadeIn 0.5s ease;
      }
      .skeleton-img,
      .skeleton-text {
        background: linear-gradient(
          90deg,
          #f2f2f2 25%,
          #e6e6e6 37%,
          #f2f2f2 63%
        );
        background-size: 400% 100%;
        animation: shimmer 1.4s ease infinite;
        border-radius: 12px;
      }
      .skeleton-img {
        height: 160px;
        margin-bottom: 0.6rem;
      }
      .skeleton-text {
        height: 12px;
        margin-bottom: 0.4rem;
      }
      @keyframes shimmer {
        0% {
          background-position: -400px 0;
        }
        100% {
          background-position: 400px 0;
        }
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      /* === ICON GI·ªé H√ÄNG CHUY√äN NGHI·ªÜP === */
      .icon-btn {
        position: relative;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 6px;
        border-radius: 50%;
        transition: background 0.3s, transform 0.2s;
        color: #444;
      }
      .icon-btn:hover {
        background: rgba(102, 126, 234, 0.1);
        transform: scale(1.05);
      }
      .icon-btn:active {
        transform: scale(0.95);
      }

      /* SVG ICON */
      .cart-svg {
        width: 26px;
        height: 26px;
        stroke: #667eea;
        transition: stroke 0.3s ease;
      }
      .icon-btn:hover .cart-svg {
        stroke: #764ba2;
      }

      /* Hi·ªáu ·ª©ng rung khi th√™m s·∫£n ph·∫©m */
      #cartIcon.shake .cart-svg {
        animation: cartShake 0.4s ease;
      }
      @keyframes cartShake {
        0%,
        100% {
          transform: rotate(0deg);
        }
        25% {
          transform: rotate(-15deg);
        }
        75% {
          transform: rotate(15deg);
        }
      }

      /* Badge hi·ªÉn th·ªã s·ªë l∆∞·ª£ng */
      .cart-container {
        position: relative;
        display: inline-block;
      }
      .cart-count {
        position: absolute;
        top: -5px;
        right: -5px;
        background: #ff4757;
        color: white;
        font-size: 0.7rem;
        font-weight: 600;
        padding: 2px 6px;
        border-radius: 50%;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        transform: scale(0);
        transition: transform 0.3s ease;
      }
      .cart-count.show {
        transform: scale(1);
      }

      /* N·∫£y nh·∫π khi c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng */
      @keyframes pop {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.4);
        }
        100% {
          transform: scale(1);
        }
      }
      .cart-count.bump {
        animation: pop 0.3s ease;
      }

      /* --- MINI CART N√ÇNG C·∫§P --- */
      .mini-cart {
        position: absolute;
        top: 60px;
        right: 20px;
        width: 320px;
        background: white;
        border-radius: 15px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        padding: 1rem;
        z-index: 2000;
        display: flex;
        flex-direction: column;
        gap: 0.8rem;
        transition: all 0.3s ease;
      }
      .mini-cart.hidden {
        opacity: 0;
        transform: translateY(-10px);
        pointer-events: none;
      }
      .mini-cart h4 {
        font-size: 1rem;
        color: #667eea;
        text-align: center;
        margin-bottom: 0.3rem;
      }
      .mini-cart-items {
        max-height: 250px;
        overflow-y: auto;
        border-top: 1px solid #f1f3f5;
        border-bottom: 1px solid #f1f3f5;
        padding: 0.5rem 0;
      }
      .mini-cart-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.6rem;
        margin-bottom: 0.5rem;
        animation: fadeIn 0.3s ease;
      }
      .mini-cart-item img {
        width: 48px;
        height: 48px;
        border-radius: 10px;
        object-fit: cover;
        border: 1px solid #e9ecef;
      }
      .mini-cart-item .info {
        flex: 1;
        font-size: 0.9rem;
      }
      .mini-cart-item .name {
        font-weight: 500;
        color: #2d3436;
        line-height: 1.3;
      }
      .mini-cart-item .price {
        font-size: 0.85rem;
        color: #667eea;
      }
      .remove-item {
        background: none;
        border: none;
        color: #ff4757;
        font-size: 1rem;
        cursor: pointer;
        padding: 4px;
        border-radius: 6px;
        transition: background 0.2s;
      }
      .remove-item:hover {
        background: rgba(255, 71, 87, 0.1);
      }
      .mini-cart-total {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 600;
        padding-top: 0.4rem;
      }
      .view-cart-btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 0.6rem;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
      }
      .view-cart-btn:hover {
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      }
      @keyframes fadeOut {
        from {
          opacity: 1;
          transform: translateX(0);
        }
        to {
          opacity: 0;
          transform: translateX(40px);
        }
      }
      /* === TOAST NOTIFICATION === */
      .toast-container {
        position: fixed;
        bottom: 20px;
        right: 20px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        z-index: 3000;
      }

      .toast {
        display: flex;
        align-items: center;
        gap: 10px;
        background: white;
        color: #333;
        border-left: 5px solid #667eea;
        padding: 10px 14px;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        min-width: 230px;
        max-width: 280px;
        font-size: 0.9rem;
        animation: slideIn 0.4s ease, fadeOut 0.4s ease 2.8s forwards;
      }

      .toast.add {
        border-left-color: #38c172; /* xanh l√° khi th√™m */
      }
      .toast.remove {
        border-left-color: #ff4757; /* ƒë·ªè khi x√≥a */
      }

      .toast-icon {
        font-size: 1.2rem;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(60px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
          transform: translateX(0);
        }
        to {
          opacity: 0;
          transform: translateX(60px);
        }
      }
      /* === Hi·ªáu ·ª©ng l·∫•p l√°nh quanh icon gi·ªè h√†ng === */
      #cartIcon.glow {
        position: relative;
        background: radial-gradient(
          circle at center,
          rgba(118, 75, 162, 0.15),
          rgba(255, 255, 255, 0)
        );
        border-radius: 50%;
        box-shadow: 0 0 6px rgba(118, 75, 162, 0.5),
          0 0 12px rgba(102, 126, 234, 0.4), 0 0 20px rgba(118, 75, 162, 0.3);
        animation: glowPulse 1.8s ease-in-out infinite;
        transition: all 0.3s ease;
      }

      @keyframes glowPulse {
        0%,
        100% {
          box-shadow: 0 0 6px rgba(118, 75, 162, 0.6),
            0 0 12px rgba(102, 126, 234, 0.5), 0 0 20px rgba(118, 75, 162, 0.4);
          transform: scale(1);
        }
        50% {
          box-shadow: 0 0 12px rgba(118, 75, 162, 0.9),
            0 0 25px rgba(102, 126, 234, 0.7), 0 0 35px rgba(118, 75, 162, 0.6);
          transform: scale(1.05);
        }
      }

      /* Khi hover, tƒÉng ƒë·ªô s√°ng nh·∫π */
      #cartIcon.glow:hover {
        box-shadow: 0 0 15px rgba(118, 75, 162, 0.9),
          0 0 30px rgba(102, 126, 234, 0.8), 0 0 45px rgba(118, 75, 162, 0.7);
        transform: scale(1.08);
      }
    </style>
  </head>
  <body>
    <header>
      <div class="top-bar">
        üìû 0901 234 567 | üöö Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn ƒë∆°n t·ª´ 500k
      </div>
      <nav>
        <a href="#" class="logo">üå∏ GreenLife</a>
        <ul class="nav-center">
          <li><a href="#">Trang ch·ªß</a></li>
          <li><a href="#" class="active">S·∫£n ph·∫©m</a></li>
          <li><a href="#">Danh m·ª•c</a></li>
          <li><a href="#">Li√™n h·ªá</a></li>
        </ul>
        <div class="nav-right">
          <input class="search-input" type="text" placeholder="T√¨m ki·∫øm..." />
          <div class="cart-container">
            <button class="icon-btn" id="cartIcon" aria-label="Gi·ªè h√†ng">
              <svg
                id="cartSvg"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="cart-svg"
              >
                <circle cx="9" cy="21" r="1"></circle>
                <circle cx="20" cy="21" r="1"></circle>
                <path
                  d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"
                ></path>
              </svg>
            </button>
            <span id="cartCount" class="cart-count">0</span>
          </div>

          <div id="miniCart" class="mini-cart hidden">
            <h4>üß∫ Gi·ªè h√†ng</h4>
            <div id="miniCartItems" class="mini-cart-items"></div>
            <div class="mini-cart-total">
              <span>T·ªïng:</span>
              <strong id="cartTotal">0ƒë</strong>
            </div>
            <button class="view-cart-btn">üßæ Xem gi·ªè h√†ng</button>
          </div>
        </div>
      </nav>
    </header>

    <section class="page-banner">
      <h1>Danh S√°ch S·∫£n Ph·∫©m</h1>
      <p>Kh√°m ph√° c√°c lo·∫°i hoa, c√¢y c·∫£nh & ph·ª• ki·ªán ƒë∆∞·ª£c y√™u th√≠ch nh·∫•t</p>
    </section>

    <main>
      <aside>
        <details open>
          <summary>ü™¥ Lo·∫°i s·∫£n ph·∫©m</summary>
          <label><input type="checkbox" value="hoa" checked /> Hoa</label>
          <label><input type="checkbox" value="cay" checked /> C√¢y c·∫£nh</label>
          <label
            ><input type="checkbox" value="phukien" checked /> Ph·ª• ki·ªán</label
          >
        </details>

        <details>
          <summary>üí∞ Kho·∫£ng gi√°</summary>
          <input
            type="range"
            id="priceRange"
            min="0"
            max="1000000"
            step="50000"
            value="1000000"
          />
          <div class="price-display">
            <span>0ƒë</span><span id="priceVal">1.000.000ƒë</span>
          </div>
        </details>

        <details>
          <summary>‚≠ê S·∫Øp x·∫øp</summary>
          <select id="sortSelect">
            <option value="">M·∫∑c ƒë·ªãnh</option>
            <option value="asc">Gi√° tƒÉng d·∫ßn</option>
            <option value="desc">Gi√° gi·∫£m d·∫ßn</option>
            <option value="name">T√™n A-Z</option>
          </select>
        </details>

        <button class="apply-btn" id="applyFilters">üîç √Åp d·ª•ng b·ªô l·ªçc</button>
        <button class="reset-btn" id="resetFilters">üßπ ƒê·∫∑t l·∫°i</button>
      </aside>

      <section class="products">
        <div class="quick-filters">
          <button data-type="hoa" class="active">üåº Hoa</button>
          <button data-type="cay">üåø C√¢y c·∫£nh</button>
          <button data-type="phukien">üíß Ph·ª• ki·ªán</button>
        </div>

        <div class="filter-bar search-wrapper">
          <div class="search-box">
            <input
              type="text"
              id="search"
              placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m..."
              autocomplete="off"
            />
            <ul id="suggestions" class="suggestions-list"></ul>
          </div>
        </div>

        <div class="grid" id="productGrid"></div>
        <div class="pagination" id="pagination"></div>
      </section>
    </main>

    <script>
      const products = [
        {
          name: "Hoa Tulip",
          price: 350000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1528825871115-3581a5387919?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "C√¢y X∆∞∆°ng R·ªìng",
          price: 150000,
          type: "cay",
          img: "https://images.unsplash.com/photo-1559563458-527698bf5295?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa H·ªìng ƒê·ªè",
          price: 450000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1563897539633-7374c276c212?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa H∆∞·ªõng D∆∞∆°ng",
          price: 400000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa Tulip",
          price: 350000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1528825871115-3581a5387919?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "C√¢y X∆∞∆°ng R·ªìng",
          price: 150000,
          type: "cay",
          img: "https://images.unsplash.com/photo-1559563458-527698bf5295?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa H·ªìng ƒê·ªè",
          price: 450000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1563897539633-7374c276c212?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa H∆∞·ªõng D∆∞∆°ng",
          price: 400000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa Tulip",
          price: 350000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1528825871115-3581a5387919?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "C√¢y X∆∞∆°ng R·ªìng",
          price: 150000,
          type: "cay",
          img: "https://images.unsplash.com/photo-1559563458-527698bf5295?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa H·ªìng ƒê·ªè",
          price: 450000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1563897539633-7374c276c212?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa H∆∞·ªõng D∆∞∆°ng",
          price: 400000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa Tulip",
          price: 350000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1528825871115-3581a5387919?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "C√¢y X∆∞∆°ng R·ªìng",
          price: 150000,
          type: "cay",
          img: "https://images.unsplash.com/photo-1559563458-527698bf5295?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa H·ªìng ƒê·ªè",
          price: 450000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1563897539633-7374c276c212?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa H∆∞·ªõng D∆∞∆°ng",
          price: 400000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa Tulip",
          price: 350000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1528825871115-3581a5387919?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "C√¢y X∆∞∆°ng R·ªìng",
          price: 150000,
          type: "cay",
          img: "https://images.unsplash.com/photo-1559563458-527698bf5295?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa H·ªìng ƒê·ªè",
          price: 450000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1563897539633-7374c276c212?auto=format&fit=crop&w=800&q=80",
        },
        {
          name: "Hoa H∆∞·ªõng D∆∞∆°ng",
          price: 400000,
          type: "hoa",
          img: "https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=800&q=80",
        },
      ];

      const grid = document.getElementById("productGrid");
      const pagination = document.getElementById("pagination");
      const range = document.getElementById("priceRange");
      const priceVal = document.getElementById("priceVal");
      const resetBtn = document.getElementById("resetFilters");
      const quickButtons = document.querySelectorAll(".quick-filters button");
      let currentPage = 1,
        itemsPerPage = 6;

      function showSkeleton() {
        const s = `<div class="card skeleton"><div class="skeleton-img"></div><div class="skeleton-text"></div><div class="skeleton-text"></div></div>`;
        grid.innerHTML = s.repeat(itemsPerPage);
      }

      function createCard(p) {
        const typeLabel =
          {
            hoa: "üåº Hoa",
            cay: "üåø C√¢y c·∫£nh",
            phukien: "üíß Ph·ª• ki·ªán",
          }[p.type] || "";

        return `
  <div class="card fade-enter">
    <div class="card-img">
      <img src="${p.img}" alt="${p.name}" />
      <div class="card-overlay">
        <button class="btn-view">üëÅ Xem chi ti·∫øt</button>
        <button class="btn-add" onclick="flyToCart(event, '${
          p.img
        }')">üõí Th√™m v√†o gi·ªè</button>
      </div>
    </div>
    <div class="info">
      <div class="product-type">${typeLabel}</div>
      <h4>${p.name}</h4>
      <div class="price">${p.price.toLocaleString()}ƒë</div>
    </div>
  </div>`;
      }

      function paginate(list, page = 1) {
        const s = (page - 1) * itemsPerPage;
        return list.slice(s, s + itemsPerPage);
      }
      function makeBtn(text, fn, dis = false, act = false) {
        const b = document.createElement("button");
        b.textContent = text;
        b.disabled = dis;
        if (act) b.classList.add("active");
        if (!dis) b.onclick = fn;
        return b;
      }
      function renderPagination(total) {
        pagination.innerHTML = "";
        const totalPages = Math.ceil(total / itemsPerPage);
        if (totalPages <= 1) return;
        pagination.append(
          makeBtn("‚Üê", () => changePage(currentPage - 1), currentPage === 1)
        );
        for (let i = 1; i <= totalPages; i++)
          pagination.append(
            makeBtn(i, () => changePage(i), false, i === currentPage)
          );
        pagination.append(
          makeBtn(
            "‚Üí",
            () => changePage(currentPage + 1),
            currentPage === totalPages
          )
        );
      }
      function changePage(p) {
        currentPage = p;
        updateDisplay(true, true);
      }

      function filterProducts() {
        const search = document.getElementById("search").value.toLowerCase();
        const checked = [
          ...document.querySelectorAll("input[type=checkbox]:checked"),
        ].map((e) => e.value);
        const max = parseInt(range.value);
        const sort = document.getElementById("sortSelect").value;
        let result = products.filter(
          (p) =>
            p.name.toLowerCase().includes(search) &&
            checked.includes(p.type) &&
            p.price <= max
        );
        if (sort === "asc") result.sort((a, b) => a.price - b.price);
        if (sort === "desc") result.sort((a, b) => b.price - a.price);
        if (sort === "name")
          result.sort((a, b) => a.name.localeCompare(b.name));
        return result;
      }

      function updateDisplay(animate = false, scrollTop = false) {
        showSkeleton();
        if (scrollTop) window.scrollTo({ top: 350, behavior: "smooth" });
        setTimeout(() => {
          const filtered = filterProducts();
          const pageItems = paginate(filtered, currentPage);
          grid.innerHTML = pageItems.map(createCard).join("");
          renderPagination(filtered.length);
        }, 500);
      }

      range.oninput = () =>
        (priceVal.textContent = parseInt(range.value).toLocaleString() + "ƒë");
      document.getElementById("applyFilters").onclick = () => {
        currentPage = 1;
        updateDisplay(false, true);
      };
      resetBtn.onclick = () => {
        document
          .querySelectorAll("input[type=checkbox]")
          .forEach((cb) => (cb.checked = true));
        range.value = 1000000;
        priceVal.textContent = "1.000.000ƒë";
        document.getElementById("sortSelect").value = "";
        document.getElementById("search").value = "";
        currentPage = 1;
        updateDisplay(false, true);
      };
      quickButtons.forEach((btn) => {
        btn.onclick = () => {
          quickButtons.forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");
          const type = btn.dataset.type;
          document
            .querySelectorAll("input[type=checkbox]")
            .forEach((cb) => (cb.checked = cb.value === type));
          updateDisplay(false, true);
        };
      });

      updateDisplay();

      const searchInput = document.getElementById("search");
      const suggestionBox = document.getElementById("suggestions");

      searchInput.addEventListener("input", () => {
        const query = searchInput.value.trim().toLowerCase();
        if (!query) {
          suggestionBox.style.display = "none";
          return;
        }

        // G·ª£i √Ω theo t√™n ho·∫∑c lo·∫°i
        const matches = products
          .filter(
            (p) =>
              p.name.toLowerCase().includes(query) || p.type.includes(query)
          )
          .slice(0, 6);

        if (matches.length === 0) {
          suggestionBox.innerHTML = `<li><em>Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£</em></li>`;
        } else {
          suggestionBox.innerHTML = matches
            .map((p) => {
              const nameHighlighted = p.name.replace(
                new RegExp(query, "gi"),
                (match) => `<span class="highlight">${match}</span>`
              );
              return `<li data-name="${p.name}">${nameHighlighted}</li>`;
            })
            .join("");
        }
        suggestionBox.style.display = "block";
      });

      // Khi ch·ªçn g·ª£i √Ω
      suggestionBox.addEventListener("click", (e) => {
        if (e.target.tagName === "LI" || e.target.closest("li")) {
          const li = e.target.closest("li");
          const value = li.dataset.name;
          if (value) {
            searchInput.value = value;
            suggestionBox.style.display = "none";
            updateDisplay(false, true);
          }
        }
      });

      // ·∫®n g·ª£i √Ω khi click ra ngo√†i
      document.addEventListener("click", (e) => {
        if (!e.target.closest(".search-box"))
          suggestionBox.style.display = "none";
      });

      //cart
      function flyToCart(event, imgSrc) {
        const cart = document.getElementById("cartIcon");
        const img = document.createElement("img");
        img.src = imgSrc;
        img.className = "fly-img";
        document.body.appendChild(img);

        // L·∫•y v·ªã tr√≠ c·ªßa n√∫t v√† gi·ªè h√†ng
        const rect = event.target.getBoundingClientRect();
        const cartRect = cart.getBoundingClientRect();

        img.style.left = rect.left + rect.width / 2 - 30 + "px";
        img.style.top = rect.top + rect.height / 2 - 30 + "px";

        // S·ª≠ d·ª•ng JS animation ƒë·ªÉ bay v·ªÅ v·ªã tr√≠ gi·ªè h√†ng
        const deltaX = cartRect.left - rect.left;
        const deltaY = cartRect.top - rect.top;

        img.animate(
          [
            { transform: `translate(0, 0) scale(1)`, opacity: 1 },
            {
              transform: `translate(${deltaX}px, ${deltaY}px) scale(0.3)`,
              opacity: 0.3,
            },
          ],
          { duration: 900, easing: "ease-in-out" }
        );

        setTimeout(() => {
          img.remove();
          cart.classList.add("shake");
          // ‚úÖ C·∫≠p nh·∫≠t gi·ªè h√†ng
          const card = event.target.closest(".card");
          const name = card.querySelector("h4").textContent;
          const price = parseInt(
            card.querySelector(".price").textContent.replace(/\D/g, "")
          );
          addToCart(name, price, imgSrc);
          setTimeout(() => cart.classList.remove("shake"), 500);
        }, 900);
      }

      let cartItems = [];
      const miniCart = document.getElementById("miniCart");
      const miniCartItems = document.getElementById("miniCartItems");
      const cartTotalEl = document.getElementById("cartTotal");
      const cartBtn = document.getElementById("cartIcon");
      const cartCountEl = document.getElementById("cartCount");

      cartBtn.addEventListener("click", (e) => {
        e.stopPropagation(); // tr√°nh ƒë√≥ng khi b·∫•m v√†o ch√≠nh n√≥
        miniCart.classList.toggle("hidden");
      });

      // ƒê√≥ng khi click ra ngo√†i
      document.addEventListener("click", (e) => {
        if (
          !miniCart.classList.contains("hidden") &&
          !e.target.closest(".mini-cart") &&
          !e.target.closest("#cartIcon")
        ) {
          miniCart.classList.add("hidden");
        }
      });

      // ƒê√≥ng khi nh·∫•n ESC
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && !miniCart.classList.contains("hidden")) {
          miniCart.classList.add("hidden");
        }
      });

      function addToCart(name, price, img) {
        const existing = cartItems.find((i) => i.name === name);
        if (existing) {
          existing.qty++;
        } else {
          cartItems.push({ name, price, img, qty: 1 });
        }
        updateCartCount();
        renderMiniCart();
        showToast(`ƒê√£ th√™m "${name}" v√†o gi·ªè h√†ng`, "add");
        playSound("add");
      }

      function removeFromCart(name) {
        const index = cartItems.findIndex((i) => i.name === name);
        if (index > -1) {
          const itemEl = miniCartItems.querySelector(`[data-name="${name}"]`);
          if (itemEl) {
            itemEl.style.animation = "fadeOut 0.3s ease forwards";
            setTimeout(() => {
              cartItems.splice(index, 1);
              renderMiniCart();
              updateCartCountDisplay();
              showToast(`ƒê√£ x√≥a "${name}" kh·ªèi gi·ªè h√†ng`, "remove");
              playSound("remove");
            }, 280);
          } else {
            cartItems.splice(index, 1);
            renderMiniCart();
            updateCartCountDisplay();
          }
        }
      }

      function renderMiniCart() {
        miniCartItems.innerHTML = "";
        let total = 0;
        cartItems.forEach((item) => {
          const subtotal = item.price * item.qty;
          total += subtotal;
          miniCartItems.innerHTML += `
      <div class="mini-cart-item" data-name="${item.name}">
        <img src="${item.img}" alt="${item.name}" />
        <div class="info">
          <div class="name">${item.name} x${item.qty}</div>
          <div class="price">${subtotal.toLocaleString()}ƒë</div>
        </div>
        <button class="remove-item" onclick="removeFromCart('${
          item.name
        }')">‚ùå</button>
      </div>`;
        });
        cartTotalEl.textContent = total.toLocaleString() + "ƒë";
        if (cartItems.length === 0) {
          miniCartItems.innerHTML = `<p style="text-align:center; color:#999;">Gi·ªè h√†ng tr·ªëng</p>`;
        }
      }

      function updateCartCountDisplay() {
        let totalQty = cartItems.reduce((sum, i) => sum + i.qty, 0);
        cartCountEl.textContent = totalQty;

        // Hi·ªÉn th·ªã badge khi c√≥ s·∫£n ph·∫©m
        if (totalQty > 0) {
          cartCountEl.classList.add("show");
          document.getElementById("cartIcon").classList.add("glow"); // üîÜ b·∫≠t √°nh s√°ng
        } else {
          cartCountEl.classList.remove("show");
          document.getElementById("cartIcon").classList.remove("glow"); // üîÜ t·∫Øt √°nh s√°ng
        }
      }

      // G·ªçi l·∫°i updateCartCount ƒë·ªÉ hi·ªÉn th·ªã n·∫£y badge khi th√™m
      function updateCartCount() {
        let totalQty = cartItems.reduce((sum, i) => sum + i.qty, 0);
        cartCountEl.textContent = totalQty;
        cartCountEl.classList.add("show", "bump");
        setTimeout(() => cartCountEl.classList.remove("bump"), 300);
      }

      function showToast(message, type = "add") {
        const container = document.getElementById("toastContainer");
        const toast = document.createElement("div");
        toast.className = `toast ${type}`;

        const icon = document.createElement("span");
        icon.className = "toast-icon";
        icon.textContent = type === "add" ? "‚úÖ" : "‚ùå";

        const text = document.createElement("span");
        text.textContent = message;

        toast.appendChild(icon);
        toast.appendChild(text);
        container.appendChild(toast);

        // T·ª± ƒë·ªông x√≥a sau 3 gi√¢y
        setTimeout(() => {
          toast.remove();
        }, 3000);
      }
      function playSound(type) {
        try {
          const sound = document.getElementById(
            type === "add" ? "soundAdd" : "soundRemove"
          );
          if (sound) {
            sound.currentTime = 0; // Ph√°t l·∫°i t·ª´ ƒë·∫ßu
            sound.volume = 0.4; // √Çm l∆∞·ª£ng nh·∫π
            sound.play().catch(() => {}); // B·ªè qua l·ªói autoplay tr√™n tr√¨nh duy·ªát
          }
        } catch (e) {
          console.warn("Kh√¥ng th·ªÉ ph√°t √¢m thanh:", e);
        }
      }
    </script>
    <!-- Toast Notification Container -->
    <div id="toastContainer" class="toast-container"></div>
    <!-- √Çm thanh th√¥ng b√°o -->
    <!-- √Çm thanh th√¥ng b√°o ·ªïn ƒë·ªãnh -->
    <audio
      id="soundAdd"
      src="https://cdn.jsdelivr.net/gh/naptha/tin-sounds@master/sounds/pop.mp3"
      preload="auto"
    ></audio>
    <audio
      id="soundRemove"
      src="https://cdn.jsdelivr.net/gh/naptha/tin-sounds@master/sounds/click.mp3"
      preload="auto"
    ></audio>
    <!-- <audio id="soundAdd" src="/sounds/add.mp3"></audio>
    <audio id="soundRemove" src="/sounds/remove.mp3"></audio> -->
  </body>
</html>
