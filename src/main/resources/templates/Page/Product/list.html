<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GreenLife - Danh Sรกch Sแบฃn Phแบฉm</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" th:href="@{/css/list.css}" />
  </head>
  <body>
    <!-- header -->
    <div th:replace="common/header :: siteHeader"></div>

    <!-- Sticky Search Bar -->
    <div class="sticky-search-container" id="stickySearch">
      <div class="compact-search-wrapper">
        <div class="search-row">
          <!-- Search Box -->
          <div class="search-box-enhanced">
            <div class="search-input-container">
              <span class="search-icon">๐</span>
              <input
                type="text"
                id="search"
                placeholder="Tรฌm theo tรชn hoa, loแบกi sแบฃn phแบฉm..."
                autocomplete="off"
              />
              <button class="clear-search-btn" id="clearSearchBtn" title="Xรณa">
                โ
              </button>
              <button
                class="voice-search-btn"
                id="voiceSearchBtn"
                title="Tรฌm bแบฑng giแปng nรณi"
              >
                ๐ค
              </button>
            </div>
            <!-- Suggestions Dropdown -->
            <ul id="suggestions" class="suggestions-list"></ul>
          </div>

          <!-- Filter Toggle Button -->
          <button class="filter-toggle-btn" id="filterToggleBtn">
            <span>๐ฏ Bแป lแปc</span>
            <span class="filter-count" id="filterCount">0</span>
          </button>
        </div>

        <!-- Quick Search Tags -->
        <div class="inline-quick-tags">
          <span class="quick-tag-label">Tรฌm nhanh:</span>
          <div class="tag-scroll">
            <span class="search-tag" data-query="hoa hแปng">๐น Hoa hแปng</span>
            <span class="search-tag" data-query="tulip">๐ท Tulip</span>
            <span class="search-tag" data-query="cรขy cแบฃnh">๐ฟ Cรขy cแบฃnh</span>
            <span class="search-tag" data-query="hฦฐแปng dฦฐฦกng"
              >๐ป Hฦฐแปng dฦฐฦกng</span
            >
            <span class="search-tag" data-query="dฦฐแปi 200k">๐ธ Dฦฐแปi 200k</span>
          </div>
        </div>

        <!-- Advanced Filters Buttons -->
        <div class="advanced-filters">
          <button class="advanced-filter-btn" data-filter="occasion">
            ๐ Dแปp lแป
          </button>
          <button class="advanced-filter-btn" data-filter="flower-type">
            ๐ธ Loแบกi hoa
          </button>
          <button class="advanced-filter-btn" data-filter="style">
            ๐จ Phong cรกch
          </button>
          <button class="advanced-filter-btn" data-filter="price-range">
            ๐ฐ Mแปฉc giรก
          </button>
        </div>
      </div>
    </div>

    <!-- Filter Overlay (Mobile) -->
    <div class="filter-overlay" id="filterOverlay"></div>

    <!-- Main Content -->
    <main>
      <!-- Sidebar Filter -->
      <aside id="filterSidebar">
        <div class="filter-header">
          <div class="filter-title">๐ฏ Bแป lแปc</div>
          <button class="close-filter-btn" id="closeFilterBtn">โ</button>
        </div>

        <details open>
          <summary>๐ชด Loแบกi sแบฃn phแบฉm</summary>
          <label><input type="checkbox" value="hoa" checked /> Hoa</label>
          <label><input type="checkbox" value="cay" checked /> Cรขy cแบฃnh</label>
          <label
            ><input type="checkbox" value="phukien" checked /> Phแปฅ kiแปn</label
          >
        </details>

        <details>
          <summary>๐ฐ Khoแบฃng giรก</summary>
          <input
            type="range"
            id="priceRange"
            min="0"
            max="1000000"
            step="50000"
            value="1000000"
          />
          <div class="price-display">
            <span>0ฤ</span><span id="priceVal">1.000.000ฤ</span>
          </div>
        </details>

        <details>
          <summary>โญ Sแบฏp xแบฟp</summary>
          <select id="sortSelect">
            <option value="">Mแบทc ฤแปnh</option>
            <option value="asc">Giรก tฤng dแบงn</option>
            <option value="desc">Giรก giแบฃm dแบงn</option>
            <option value="name">Tรชn A-Z</option>
          </select>
        </details>

        <button class="apply-btn" id="applyFilters">๐ รp dแปฅng</button>
        <button class="reset-btn" id="resetFilters">๐งน ฤแบทt lแบกi</button>
      </aside>

      <!-- Products Section -->
      <section class="products" id="productsSection">
        <!-- Results Header -->
        <div class="results-header">
          <div class="results-info">
            <span class="results-count" id="resultsCount">20</span>
            <span class="results-text">sแบฃn phแบฉm</span>
            <span class="search-time" id="searchTime"></span>
          </div>
          <div class="view-toggle">
            <button class="view-btn active" title="Lฦฐแปi">โ</button>
            <button class="view-btn" title="Danh sรกch">โฐ</button>
          </div>
        </div>

        <!-- Product Grid -->
        <div class="grid" id="productGrid">
          <!-- Products render by JS -->
        </div>

        <!-- Pagination -->
        <div class="pagination" id="pagination"></div>
      </section>
    </main>

    <!-- Toast Notification Container -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Sounds -->
    <audio
      id="soundAdd"
      src="https://cdn.jsdelivr.net/gh/naptha/tin-sounds@master/sounds/pop.mp3"
      preload="auto"
    ></audio>
    <audio
      id="soundRemove"
      src="https://cdn.jsdelivr.net/gh/naptha/tin-sounds@master/sounds/click.mp3"
      preload="auto"
    ></audio>

    <script th:src="@{/js/list.js}" defer></script>
    <div th:replace="common/footer :: siteFooter"></div>
  </body>
</html>
