<div th:fragment="siteChatbox">
  <button id="scrollTopBtn">⬆️</button>

  <!-- 🌿 Chat Hỏi Đáp -->
  <link rel="stylesheet" th:href="@{/css/chatbox.css}" />
  <div id="qa-widget">
    <button id="qa-toggle">💬 Hỏi đáp</button>

    <div id="qa-box">
      <div id="qa-header">💬 Hỏi đáp cùng GreenLife</div>
      <div id="qa-messages"></div>

      <form id="qa-form">
        <input
          type="text"
          id="qa-input"
          placeholder="Nhập câu hỏi của bạn..."
          required
        />
        <button type="submit">Gửi</button>
      </form>
    </div>
  </div>

  <script>
    const scrollBtn = document.getElementById("scrollTopBtn");
    window.addEventListener("scroll", () => {
      if (window.scrollY > 400) {
        scrollBtn.style.display = "flex";
      } else {
        scrollBtn.style.display = "none";
      }
      document.querySelectorAll(".section").forEach((sec) => {
        const rect = sec.getBoundingClientRect();
        if (rect.top < window.innerHeight - 100) {
          sec.classList.add("show");
        }
      });
    });
    scrollBtn.addEventListener("click", () =>
      window.scrollTo({ top: 0, behavior: "smooth" })
    );
  </script>

  <!-- 🌿 Liên hệ mạng xã hội -->
  <div id="social-icons">
    <!-- Facebook -->
    <a
      href="https://www.facebook.com/GreenLife.vn"
      target="_blank"
      class="social-icon fb"
      title="Facebook"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 320 512"
        width="22"
        height="22"
        fill="white"
      >
        <path
          d="M279.14 288l14.22-92.66h-88.91V127.34c0-25.35 
        12.42-50.06 52.24-50.06H293V6.26S259.43 
        0 225.36 0c-73.22 0-121.09 44.38-121.09 
        124.72v70.62H22.89V288h81.38v224h100.17V288z"
        />
      </svg>
    </a>

    <!-- Zalo -->
    <a
      href="https://zalo.me/0123456789"
      target="_blank"
      class="social-icon zalo"
      title="Zalo"
    >
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/9/91/Icon_of_Zalo.svg"
        alt="Zalo"
        width="22"
        height="22"
      />
    </a>
  </div>
  <script th:src="@{/js/chatbox.js}" defer></script>
</div>
